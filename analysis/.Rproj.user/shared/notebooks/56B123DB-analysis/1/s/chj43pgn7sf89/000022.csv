"0","elongateCode <- function(type){"
"0","  regex <- paste0(""\\b"", type, ""\\b.*?\\gender\\b"")"
"0","  bonusColumn <- colnames(select(dressCodes, matches(regex)))"
"0","  "
"0","  new <- dressCodes %>%"
"0","    # First sort out any additional items that we added to our bonus column"
"0","    separate_rows_(bonusColumn, sep = "","") %>%"
"0","    separate(bonusColumn, into = c(""item"", ""prohibited""), sep = ""-"") %>%"
"0","    mutate(type = type) %>% "
"0","    select(c(1:6), c(item, prohibited, type)) %>% "
"0","    filter(!is.na(prohibited))"
"0","  "
"0","  new2 <- dressCodes %>%"
"0","    select(-contains(""item.gender"")) %>% "
"0","    gather(key = item, value = prohibited, colnames(select(., contains(!!type)))) %>%"
"0","    filter(!is.na(prohibited)) %>%"
"0","    mutate(item = gsub(""(.*\\.{3})"", """", item),"
"0","         item = gsub(""\\."", "" "", item),"
"0","         item = trimws(item)) %>%"
"0","    mutate(type = type) %>%"
"0","    select(c(1:6), c(item:type))"
"0","  "
"0","  combined <- rbind(new, new2)"
"0","}"
"0","clothingTypes <- c(""accessories"", ""belt"", ""shirt"", ""dress.items"", ""skirt"", ""pants"", ""shorts"", ""undergarment"", ""clothing"", ""footwear"", ""headwear"", ""body"")"
"0","longDressCode <- map_dfr(clothingTypes, elongateCode)"
"2","Expected 2 pieces. Additional pieces discarded in 1 rows [4]."
"2","Expected 2 pieces. Missing pieces filled with `NA` in 1 rows [15]."
"0","write.csv(longDressCode, here(""processed_data"", ""clean_dress_code.csv""), row.names = FALSE)"
"0","quickTally <- longDressCode %>% "
"0","  group_by(type) %>% "
"0","  count(item)"
